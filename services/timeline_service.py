from typing import Dict, List

class TimelineService:
    """–°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–π–º–ª–∞–π–Ω–∞ –∂–∏–∑–Ω–∏ –ø–∏—Å–∞—Ç–µ–ª–µ–π"""
    
    def __init__(self):
        self.timelines = self._load_timelines()
    
    def _load_timelines(self) -> Dict:
        """–ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–∞–π–º–ª–∞–π–Ω—ã –ø–∏—Å–∞—Ç–µ–ª–µ–π"""
        return {
            "pushkin": [
                {"year": 1799, "event": "–†–æ–¥–∏–ª—Å—è –≤ –ú–æ—Å–∫–≤–µ", "emoji": "üë∂"},
                {"year": 1811, "event": "–ü–æ—Å—Ç—É–ø–∏–ª –≤ –¶–∞—Ä—Å–∫–æ—Å–µ–ª—å—Å–∫–∏–π –ª–∏—Ü–µ–π", "emoji": "üéì"},
                {"year": 1814, "event": "–ü–µ—Ä–≤–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Ç–∏—Ö–æ–≤", "emoji": "üìú"},
                {"year": 1820, "event": "–Æ–∂–Ω–∞—è —Å—Å—ã–ª–∫–∞ (–ö–∏—à–∏–Ω—ë–≤, –û–¥–µ—Å—Å–∞)", "emoji": "üó∫Ô∏è"},
                {"year": 1824, "event": "–°—Å—ã–ª–∫–∞ –≤ –ú–∏—Ö–∞–π–ª–æ–≤—Å–∫–æ–µ", "emoji": "üè°"},
                {"year": 1831, "event": "–ñ–µ–Ω–∏—Ç—å–±–∞ –Ω–∞ –ù–∞—Ç–∞–ª—å–µ –ì–æ–Ω—á–∞—Ä–æ–≤–æ–π", "emoji": "üíç"},
                {"year": 1833, "event": "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –£—Ä–∞–ª—É", "emoji": "üöÇ"},
                {"year": 1836, "event": "–û—Å–Ω–æ–≤–∞–ª –∂—É—Ä–Ω–∞–ª '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∏–∫'", "emoji": "üì∞"},
                {"year": 1837, "event": "–°–º–µ—Ä—Ç–µ–ª—å–Ω–∞—è –¥—É—ç–ª—å —Å –î–∞–Ω—Ç–µ—Å–æ–º", "emoji": "‚öîÔ∏è"}
            ],
            "dostoevsky": [
                {"year": 1821, "event": "–†–æ–¥–∏–ª—Å—è –≤ –ú–æ—Å–∫–≤–µ", "emoji": "üë∂"},
                {"year": 1837, "event": "–°–º–µ—Ä—Ç—å –º–∞—Ç–µ—Ä–∏, –ø–µ—Ä–µ–µ–∑–¥ –≤ –ü–µ—Ç–µ—Ä–±—É—Ä–≥", "emoji": "üò¢"},
                {"year": 1844, "event": "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ —Å –≤–æ–µ–Ω–Ω–æ–π —Å–ª—É–∂–±—ã", "emoji": "üëî"},
                {"year": 1849, "event": "–ê—Ä–µ—Å—Ç –ø–æ –¥–µ–ª—É –ü–µ—Ç—Ä–∞—à–µ–≤—Å–∫–æ–≥–æ", "emoji": "üîí"},
                {"year": 1849, "event": "–ò–Ω—Å—Ü–µ–Ω–∏—Ä–æ–≤–∫–∞ –∫–∞–∑–Ω–∏", "emoji": "üíÄ"},
                {"year": 1850, "event": "–ö–∞—Ç–æ—Ä–≥–∞ –≤ –û–º—Å–∫–µ (4 –≥–æ–¥–∞)", "emoji": "‚õìÔ∏è"},
                {"year": 1857, "event": "–ñ–µ–Ω–∏—Ç—å–±–∞ –Ω–∞ –ú–∞—Ä–∏–∏ –ò—Å–∞–µ–≤–æ–π", "emoji": "üíç"},
                {"year": 1864, "event": "–°–º–µ—Ä—Ç—å –∂–µ–Ω—ã –∏ –±—Ä–∞—Ç–∞", "emoji": "‚ö∞Ô∏è"},
                {"year": 1866, "event": "–ù–∞–ø–∏—Å–∞–Ω–∏–µ '–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏—è'", "emoji": "üìñ"},
                {"year": 1867, "event": "–ñ–µ–Ω–∏—Ç—å–±–∞ –Ω–∞ –ê–Ω–Ω–µ –°–Ω–∏—Ç–∫–∏–Ω–æ–π", "emoji": "‚ù§Ô∏è"},
                {"year": 1880, "event": "–†–µ—á—å –æ –ü—É—à–∫–∏–Ω–µ", "emoji": "üé§"},
                {"year": 1881, "event": "–°–º–µ—Ä—Ç—å –≤ –ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ", "emoji": "‚úùÔ∏è"}
            ],
            "tolstoy": [
                {"year": 1828, "event": "–†–æ–¥–∏–ª—Å—è –≤ –Ø—Å–Ω–æ–π –ü–æ–ª—è–Ω–µ", "emoji": "üë∂"},
                {"year": 1844, "event": "–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –ö–∞–∑–∞–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç", "emoji": "üéì"},
                {"year": 1851, "event": "–ü–µ—Ä–µ–µ–∑–¥ –Ω–∞ –ö–∞–≤–∫–∞–∑", "emoji": "üèîÔ∏è"},
                {"year": 1854, "event": "–£—á–∞—Å—Ç–∏–µ –≤ –ö—Ä—ã–º—Å–∫–æ–π –≤–æ–π–Ω–µ", "emoji": "‚öîÔ∏è"},
                {"year": 1862, "event": "–ñ–µ–Ω–∏—Ç—å–±–∞ –Ω–∞ –°–æ—Ñ—å–µ –ë–µ—Ä—Å", "emoji": "üíç"},
                {"year": 1869, "event": "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ '–í–æ–π–Ω—ã –∏ –º–∏—Ä–∞'", "emoji": "üìö"},
                {"year": 1877, "event": "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ '–ê–Ω–Ω—ã –ö–∞—Ä–µ–Ω–∏–Ω–æ–π'", "emoji": "üìñ"},
                {"year": 1882, "event": "–î—É—Ö–æ–≤–Ω—ã–π –∫—Ä–∏–∑–∏—Å", "emoji": "üåÄ"},
                {"year": 1901, "event": "–û—Ç–ª—É—á–µ–Ω–∏–µ –æ—Ç —Ü–µ—Ä–∫–≤–∏", "emoji": "‚õ™"},
                {"year": 1910, "event": "–£—Ö–æ–¥ –∏–∑ –¥–æ–º–∞", "emoji": "üö∂"},
                {"year": 1910, "event": "–°–º–µ—Ä—Ç—å –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏ –ê—Å—Ç–∞–ø–æ–≤–æ", "emoji": "‚úùÔ∏è"}
            ],
            "gigachad": [
                {"year": "–ù–∞—á–∞–ª–æ", "event": "–†–æ–∂–¥–µ–Ω–∏–µ –ª–µ–≥–µ–Ω–¥—ã", "emoji": "üí™"},
                {"year": "–í—Å–µ–≥–¥–∞", "event": "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ —á—Ç–µ–Ω–∏–µ –∫–Ω–∏–≥", "emoji": "üèãÔ∏èüìö"},
                {"year": "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ", "event": "–ú–æ—Ç–∏–≤–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π", "emoji": "üöÄ"},
                {"year": "–ù–∞–≤—Å–µ–≥–¥–∞", "event": "–°—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–π", "emoji": "üëë"}
            ]
        }
    
    def get_author_timeline(self, author_key: str) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∞–π–º–ª–∞–π–Ω –∞–≤—Ç–æ—Ä–∞"""
        timeline = self.timelines.get(author_key, [])
        
        if not timeline:
            return "–¢–∞–π–º–ª–∞–π–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω"
        
        # –ù–∞–∑–≤–∞–Ω–∏—è –∞–≤—Ç–æ—Ä–æ–≤
        author_names = {
            "pushkin": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ü—É—à–∫–∏–Ω–∞",
            "dostoevsky": "–§—ë–¥–æ—Ä–∞ –î–æ—Å—Ç–æ–µ–≤—Å–∫–æ–≥–æ",
            "tolstoy": "–õ—å–≤–∞ –¢–æ–ª—Å—Ç–æ–≥–æ",
            "gigachad": "üí™ –ì–ò–ì–ê–ß–ê–î–ê"
        }
        
        author_name = author_names.get(author_key, "–ü–∏—Å–∞—Ç–µ–ª—è")
        
        # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ç–∞–π–º–ª–∞–π–Ω
        timeline_text = f"""
üìÖ <b>–¢–ê–ô–ú–õ–ê–ô–ù –ñ–ò–ó–ù–ò {author_name.upper()}</b>
{'‚ïê' * 40}
"""
        
        for event in timeline:
            timeline_text += f"\n{event['emoji']} <b>{event['year']}</b>: {event['event']}"
        
        timeline_text += f"\n\n{'‚ïê' * 40}"
        timeline_text += "\n<code>‚ú® –ò–∑—É—á–∞–π—Ç–µ –∂–∏–∑–Ω—å –≤–µ–ª–∏–∫–∏—Ö —É–º–æ–≤!</code>"
        
        return timeline_text
    
    def get_life_period(self, author_key: str, year: int) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–∏–æ–¥ –∂–∏–∑–Ω–∏ –∞–≤—Ç–æ—Ä–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –≥–æ–¥—É"""
        if author_key == "pushkin":
            if year < 1811:
                return "–î–µ—Ç—Å—Ç–≤–æ –≤ –ú–æ—Å–∫–≤–µ"
            elif 1811 <= year <= 1817:
                return "–£—á—ë–±–∞ –≤ –õ–∏—Ü–µ–µ"
            elif 1820 <= year <= 1824:
                return "–Æ–∂–Ω–∞—è —Å—Å—ã–ª–∫–∞"
            elif 1824 <= year <= 1826:
                return "–°—Å—ã–ª–∫–∞ –≤ –ú–∏—Ö–∞–π–ª–æ–≤—Å–∫–æ–º"
            elif 1826 <= year <= 1837:
                return "–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥"
        
        return "–ü–µ—Ä–∏–æ–¥ –∂–∏–∑–Ω–∏"

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
timeline_service = TimelineService()
